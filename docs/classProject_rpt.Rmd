---
title: "Class Project Report"
author: "K. Gladhill"
date: "August 10, 2018"
output: html_document
---

```{r setup}
# set knit directory one above docs to get to project root
knitr::opts_knit$set(root.dir="../") 
```


# Analysis of Daily Bike Count data on Three Portland Bridges
## Hawthorne, Tilikum, and Steel Bridges


```{r getData, echo=FALSE, include=FALSE}
source("code/load_data.R")
head(bikeCntWeather)
```
  

```{r plotXY, echo=FALSE}
library(ggplot2)
p <- ggplot(data = bikecounts) + 
  geom_point(mapping = aes(x = date, y = total,color = brname)) 
p + labs(color="Bridge") + labs(title = "Daily Total Bike Counts")


```
  
###Bar chart - Average Bike Counts per day for each Bridge
####by day of week
```{r barDOW, echo=FALSE}
bikecounts$dow <- wday(as.Date(bikecounts$date), label = TRUE)
bikeCNTdow <- bikecounts %>%
  group_by(dow,brname) %>%
  summarise(avgBikesPerDay=mean(total))
# bar chart by dow, bridge
p <- ggplot(bikeCNTdow) + 
  geom_bar(mapping = aes(x = brname, y = avgBikesPerDay, fill = dow),  stat = "identity", position = "dodge") 
p + labs(x = "Bridge")
```

### Bike Counts vs. Precipitaion (inches)
```{r plotPRCP, echo = FALSE}
ggplot(data = bikeCntWeather) + 
  geom_point(mapping = aes(x = PRCP, y = total,color = brname)) + 
  facet_wrap(~ brname, nrow = 1) +
  labs(x = "Precipitation") + labs(color = "Bridge")

```

### Bike Counts vs. Minimum Temperature

```{r plotTMIN, echo = FALSE}
ggplot(data = bikeCntWeather) + 
  geom_point(mapping = aes(x = TMIN, y = total,color = brname)) + 
  facet_wrap(~ brname, nrow = 1) +
  labs(x = "Minimum Temperature") + labs(color = "Bridge")

```